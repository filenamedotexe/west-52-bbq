---
import Layout from '~/layouts/PageLayout.astro';
import Hero from '~/components/widgets/Hero.astro';
import ContactUs from '~/components/widgets/Contact.astro';
import Features2 from '~/components/widgets/Features2.astro';
import CallToAction from '~/components/widgets/CallToAction.astro';
import { getBusinessInfo, getGoogleMapsDirectionsUrl } from '~/utils/business';

const business = getBusinessInfo();
const directionsUrl = getGoogleMapsDirectionsUrl();

const metadata = {
  title: `Contact ${business.name} | ${business.address.city}, ${business.address.state} | ${business.phone} | BBQ Restaurant`,
  description: `Contact ${business.name} in ${business.address.city}, ${business.address.state}. Call ${business.phone} for orders, catering quotes, or questions. Open Wed-Sat ${business.hours.wednesday}, Sun ${business.hours.sunday}. Serving Will County.`,
};
---

<Layout metadata={metadata}>
  <!-- Hero Section ******************* -->
  <Hero
    tagline="Contact Us"
  >
    <Fragment slot="title">
      <span class="font-heading">Get In Touch</span>
      <br />
      <span class="text-primary">We're Here to Help</span>
    </Fragment>

    <Fragment slot="subtitle">
      <span class="text-lg">
        Questions about our menu? Need a catering quote? Want to place an order?
        <span class="block mt-2 font-semibold">Call us at <a href={`tel:${business.phoneRaw}`} class="text-primary hover:underline">{business.phone}</a></span>
      </span>
    </Fragment>
  </Hero>

  <!-- Quick Contact Banner -->
  <div class="bg-primary text-white py-4">
    <div class="container mx-auto px-4">
      <div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-center">
        <div>
          <p class="font-heading text-xl mb-1">Call Us</p>
          <a href={`tel:${business.phoneRaw}`} class="text-lg font-bold hover:text-off-white transition">
            {business.phone}
          </a>
        </div>
        <div>
          <p class="font-heading text-xl mb-1">Visit Us</p>
          <p class="text-sm">{business.address.street}</p>
          <p class="text-xs opacity-90">{business.address.city}, {business.address.state} {business.address.zip}</p>
        </div>
        <div>
          <p class="font-heading text-xl mb-1">Hours</p>
          <p class="text-sm">Wed-Sat: {business.hours.wednesday}</p>
          <p class="text-xs opacity-90">Sun: {business.hours.sunday} | Closed Mon-Tue</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Contact Form ******************* -->
  <ContactUs
    id="contact-form"
    title="Send Us a Message"
    subtitle={`Have a question? Fill out the form below and we'll get back to you as soon as possible. For immediate assistance, please call us at ${business.phone}.`}
    inputs={[
      {
        type: 'text',
        name: 'name',
        label: 'Your Name',
        autocomplete: 'name',
        placeholder: 'John Smith',
      },
      {
        type: 'email',
        name: 'email',
        label: 'Email Address',
        autocomplete: 'email',
        placeholder: 'john@example.com',
      },
      {
        type: 'tel',
        name: 'phone',
        label: 'Phone Number',
        autocomplete: 'tel',
        placeholder: business.phone,
      },
      {
        type: 'text',
        name: 'subject',
        label: 'Subject',
        placeholder: 'General Inquiry, Catering, Order Question, etc.',
      },
    ]}
    textarea={{
      label: 'Your Message',
      name: 'message',
      placeholder: 'Tell us how we can help you...',
      rows: 6,
    }}
    disclaimer={{
      label: 'By submitting this form, you agree to be contacted by West 52 BBQ regarding your inquiry. We respect your privacy and will not share your information with third parties.',
    }}
    button="Send Message"
    description="We typically respond to all inquiries within 24 hours during business days. For urgent requests, please call us directly."
  />

  <!-- Contact Information ************** -->
  <Features2
    title="Other Ways to Reach Us"
    subtitle="Choose the method that works best for you"
    items={[
      {
        title: 'Call to Order',
        description: 'The fastest way to place an order or get answers. Our team is ready to help during business hours.',
        icon: 'tabler:phone',
      },
      {
        title: 'Visit Our Location',
        description: 'Stop by in person! We\'re located in Shorewood, IL. Come smell the smoke and see our operation.',
        icon: 'tabler:map-pin',
      },
      {
        title: 'Catering Inquiries',
        description: 'For catering quotes and event planning, use our catering request form or call us directly to discuss your needs.',
        icon: 'tabler:truck-delivery',
      },
      {
        title: 'Business Hours',
        description: `Wed-Sat: ${business.hours.wednesday} | Sun: ${business.hours.sunday} | Closed Monday & Tuesday`,
        icon: 'tabler:clock',
      },
      {
        title: 'Phone',
        description: business.phone,
        icon: 'tabler:headset',
      },
      {
        title: 'Location',
        description: `${business.address.full} | Serving Will County & surrounding areas`,
        icon: 'tabler:map-2',
      },
    ]}
  />

  <!-- Map Section -->
  <div class="bg-off-white dark:bg-slate-800 py-12 md:py-16">
    <div class="container mx-auto px-4">
      <div class="text-center mb-8">
        <h2 class="text-3xl md:text-4xl font-heading font-bold text-charcoal dark:text-white mb-4">
          Find Us in {business.address.city}, {business.address.state}
        </h2>
        <p class="text-lg text-muted max-w-2xl mx-auto">
          Located at {business.address.full}, we proudly serve Will County including Joliet, Plainfield, Romeoville, Lockport, and Channahon.
        </p>
      </div>

      <!-- Google Maps Embed -->
      <div class="max-w-4xl mx-auto">
        <div class="bg-white dark:bg-slate-900 rounded-lg shadow-lg overflow-hidden map-embed-container">
          <iframe
            src={`https://www.google.com/maps/embed/v1/place?key=&q=${encodeURIComponent(business.address.full)}`}
            width="100%"
            height="450"
            class="border-0"
            allowfullscreen=""
            loading="lazy"
            referrerpolicy="no-referrer-when-downgrade"
            title={`${business.name} Location - ${business.address.full}`}
          ></iframe>
        </div>

        <div class="mt-6 text-center">
          <a
            href={directionsUrl}
            target="_blank"
            rel="noopener noreferrer"
            class="inline-flex items-center gap-2 bg-primary text-white px-6 py-3 rounded-lg font-semibold hover:bg-brick-red transition-colors"
          >
            <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
              <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
              <path d="M9 11a3 3 0 1 0 6 0a3 3 0 0 0 -6 0"></path>
              <path d="M17.657 16.657l-4.243 4.243a2 2 0 0 1 -2.827 0l-4.244 -4.243a8 8 0 1 1 11.314 0z"></path>
            </svg>
            Get Directions
          </a>
        </div>
      </div>
    </div>
  </div>

  <!-- Serving Areas -->
  <div class="bg-white dark:bg-slate-900 py-12 md:py-16">
    <div class="container mx-auto px-4">
      <div class="text-center mb-8">
        <h2 class="text-3xl md:text-4xl font-heading font-bold text-charcoal dark:text-white mb-4">
          Proudly Serving Will County
        </h2>
        <p class="text-lg text-muted max-w-2xl mx-auto">
          West 52 BBQ is your local BBQ destination serving communities throughout Will County and surrounding areas.
        </p>
      </div>

      <div class="max-w-4xl mx-auto">
        <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 text-center">
          <div class="bg-off-white dark:bg-slate-800 rounded-lg p-4">
            <p class="font-semibold text-charcoal dark:text-white">Shorewood</p>
            <p class="text-sm text-muted">Our Home</p>
          </div>
          <div class="bg-off-white dark:bg-slate-800 rounded-lg p-4">
            <p class="font-semibold text-charcoal dark:text-white">Joliet</p>
            <p class="text-sm text-muted">10 min away</p>
          </div>
          <div class="bg-off-white dark:bg-slate-800 rounded-lg p-4">
            <p class="font-semibold text-charcoal dark:text-white">Plainfield</p>
            <p class="text-sm text-muted">12 min away</p>
          </div>
          <div class="bg-off-white dark:bg-slate-800 rounded-lg p-4">
            <p class="font-semibold text-charcoal dark:text-white">Romeoville</p>
            <p class="text-sm text-muted">15 min away</p>
          </div>
          <div class="bg-off-white dark:bg-slate-800 rounded-lg p-4">
            <p class="font-semibold text-charcoal dark:text-white">Lockport</p>
            <p class="text-sm text-muted">8 min away</p>
          </div>
          <div class="bg-off-white dark:bg-slate-800 rounded-lg p-4">
            <p class="font-semibold text-charcoal dark:text-white">Channahon</p>
            <p class="text-sm text-muted">12 min away</p>
          </div>
          <div class="bg-off-white dark:bg-slate-800 rounded-lg p-4">
            <p class="font-semibold text-charcoal dark:text-white">Minooka</p>
            <p class="text-sm text-muted">15 min away</p>
          </div>
          <div class="bg-off-white dark:bg-slate-800 rounded-lg p-4">
            <p class="font-semibold text-charcoal dark:text-white">Crest Hill</p>
            <p class="text-sm text-muted">10 min away</p>
          </div>
          <div class="bg-off-white dark:bg-slate-800 rounded-lg p-4">
            <p class="font-semibold text-charcoal dark:text-white">Bolingbrook</p>
            <p class="text-sm text-muted">18 min away</p>
          </div>
          <div class="bg-off-white dark:bg-slate-800 rounded-lg p-4">
            <p class="font-semibold text-charcoal dark:text-white">New Lenox</p>
            <p class="text-sm text-muted">10 min away</p>
          </div>
        </div>

        <p class="text-center text-muted mt-8">
          Don't see your city listed? We likely serve your area! Call us at
          <a href={`tel:${business.phoneRaw}`} class="text-primary hover:underline font-semibold">{business.phone}</a>
          to confirm delivery or catering availability.
        </p>
      </div>
    </div>
  </div>

  <!-- FAQ Section -->
  <div class="bg-off-white dark:bg-slate-800 py-12 md:py-16">
    <div class="container mx-auto px-4">
      <div class="text-center mb-8">
        <h2 class="text-3xl md:text-4xl font-heading font-bold text-charcoal dark:text-white mb-4">
          Common Questions
        </h2>
      </div>

      <div class="max-w-3xl mx-auto space-y-4">
        <details class="bg-white dark:bg-slate-900 rounded-lg shadow-md p-6 group">
          <summary class="font-semibold text-lg cursor-pointer list-none flex justify-between items-center">
            <span>What are your hours of operation?</span>
            <span class="text-primary text-xl group-open:rotate-45 transition-transform">+</span>
          </summary>
          <p class="text-muted mt-4">
            We're open Wednesday through Saturday from 11:00 AM to 8:00 PM, and Sunday from 12:00 PM to 5:00 PM.
            We're closed Monday and Tuesday to prep and smoke our meats fresh for the week.
          </p>
        </details>

        <details class="bg-white dark:bg-slate-900 rounded-lg shadow-md p-6 group">
          <summary class="font-semibold text-lg cursor-pointer list-none flex justify-between items-center">
            <span>Can I place an order for pickup?</span>
            <span class="text-primary text-xl group-open:rotate-45 transition-transform">+</span>
          </summary>
          <p class="text-muted mt-4">
            Absolutely! Call us at {business.phone} to place your order ahead of time. We'll have it ready when you arrive.
            Calling ahead is highly recommended, especially during peak hours (lunch and dinner).
          </p>
        </details>

        <details class="bg-white dark:bg-slate-900 rounded-lg shadow-md p-6 group">
          <summary class="font-semibold text-lg cursor-pointer list-none flex justify-between items-center">
            <span>Do you offer delivery?</span>
            <span class="text-primary text-xl group-open:rotate-45 transition-transform">+</span>
          </summary>
          <p class="text-muted mt-4">
            For individual orders, we recommend pickup. However, we offer delivery for catering orders depending on
            location and order size. Call us to discuss your specific needs.
          </p>
        </details>

        <details class="bg-white dark:bg-slate-900 rounded-lg shadow-md p-6 group">
          <summary class="font-semibold text-lg cursor-pointer list-none flex justify-between items-center">
            <span>How do I request a catering quote?</span>
            <span class="text-primary text-xl group-open:rotate-45 transition-transform">+</span>
          </summary>
          <p class="text-muted mt-4">
            Visit our <a href="/catering" class="text-primary hover:underline font-semibold">Catering page</a> to fill
            out a detailed request form, or call us directly at {business.phone} to discuss your event with Troy.
          </p>
        </details>

        <details class="bg-white dark:bg-slate-900 rounded-lg shadow-md p-6 group">
          <summary class="font-semibold text-lg cursor-pointer list-none flex justify-between items-center">
            <span>Where exactly are you located in Shorewood?</span>
            <span class="text-primary text-xl group-open:rotate-45 transition-transform">+</span>
          </summary>
          <p class="text-muted mt-4">
            We're located at {business.address.full}. Use the map above to get directions or call us at {business.phone} if you need assistance finding us.
          </p>
        </details>
      </div>
    </div>
  </div>

  <!-- Call To Action *********** -->
  <CallToAction
    actions={[
      {
        variant: 'primary',
        text: `Call ${business.phone}`,
        href: `tel:${business.phoneRaw}`,
        icon: 'tabler:phone',
      },
      {
        variant: 'secondary',
        text: 'View Menu',
        href: '/menu',
        icon: 'tabler:meat',
      },
    ]}
  >
    <Fragment slot="title">
      Ready to Experience Real BBQ?
    </Fragment>

    <Fragment slot="subtitle">
      Call ahead to place your order or stop by during business hours.
      <br class="hidden md:inline" />
      <span class="font-semibold">You Don't Have To Fight It To Bite It!</span>
    </Fragment>
  </CallToAction>
</Layout>
